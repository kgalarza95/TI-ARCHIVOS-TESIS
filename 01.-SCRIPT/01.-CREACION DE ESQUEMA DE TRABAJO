--CREACION CON SYSDBA --> ORACLE ORACLE
--1)CREACION DEL ESPACIO DE TRABAJO PARA LOS OBJETOS
CREATE TABLESPACE "MY_DATA_FILE" LOGGING
DATAFILE 'C:\app\KevinGalarza\product\18.0.0\oradata\XE\MY_DATA_FILE.dbf' SIZE 512M
EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO
--Tablespace para datos, con tamaño inicial de 1024 Mb, y auto extensible


--2)Tablespace para índices, con tamaño inicial de 512 Mb, y auto extensible
CREATE TABLESPACE "MY_DATA_FILE_INDEX" LOGGING
DATAFILE 'C:\app\KevinGalarza\product\18.0.0\oradata\XE\MY_DATA_FILE_INDEX.dbf' SIZE 512M
EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO

--3)Creación del usuario que va a trabajar sobre estos tablespaces, y que será el propietario de los objetos que se se creen en ellos
alter session set "_ORACLE_SCRIPT"=true; --NECESARIO PARA EVITAR EL ERROR: ORA-65096: invalid common user or role name.
CREATE USER "APP_TESIS" PROFILE "DEFAULT" IDENTIFIED BY "APP_TESIS"
DEFAULT TABLESPACE "MY_DATA_FILE" 
TEMPORARY TABLESPACE "TEMP" 
ACCOUNT UNLOCK;

/* Si queremos mantener datos e índices separados habrá que acordarse de especificar este tablespace en las sentencias de creación de índices de este usuario, si no se hace éstos se crearán en APPDAT:
--CREACION DE INDEICES EN   MY_DATA_FILE_INDEX

CREATE INDEX mi_indice ON mi_tabla(mi_campo)
TABLESPACE MY_DATA_FILE_INDEX;
*/

/*se le asignan los roles 'Connect' y 'Resource' ya tiene los permisos mínimos, podrá conectarse a la base de datos y realizar las operaciones más habituales de consulta, modificación y creación de objetos en su propio esquema.*/
--4)ASIGNACION DE PERMISOS PARA TRABAJAR CON EL ESQUEMA NUEVO
GRANT "CONNECT" TO "APP_TESIS";
GRANT "RESOURCE" TO "APP_TESIS";

--5)PRIVILEGIOS DE OPERACIONES NECESARIAS
GRANT ALTER ANY INDEX TO "APP_TESIS";
GRANT ALTER ANY SEQUENCE TO "APP_TESIS";
GRANT ALTER ANY TABLE TO "APP_TESIS";
GRANT ALTER ANY TRIGGER TO "APP_TESIS";
GRANT CREATE ANY INDEX TO "APP_TESIS";
GRANT CREATE ANY SEQUENCE TO "APP_TESIS";
GRANT CREATE ANY SYNONYM TO "APP_TESIS";
GRANT CREATE ANY TABLE TO "APP_TESIS";
GRANT CREATE ANY TRIGGER TO "APP_TESIS";
GRANT CREATE ANY VIEW TO "APP_TESIS";
GRANT CREATE PROCEDURE TO "APP_TESIS";
GRANT CREATE PUBLIC SYNONYM TO "APP_TESIS";
GRANT CREATE TRIGGER TO "APP_TESIS";
GRANT CREATE VIEW TO "APP_TESIS";
GRANT DELETE ANY TABLE TO "APP_TESIS";
GRANT DROP ANY INDEX TO "APP_TESIS";
GRANT DROP ANY SEQUENCE TO "APP_TESIS";
GRANT DROP ANY TABLE TO "APP_TESIS";
GRANT DROP ANY TRIGGER TO "APP_TESIS";
GRANT DROP ANY VIEW TO "APP_TESIS";
GRANT INSERT ANY TABLE TO "APP_TESIS";
GRANT QUERY REWRITE TO "APP_TESIS";
GRANT SELECT ANY TABLE TO "APP_TESIS";
GRANT UNLIMITED TABLESPACE TO "APP_TESIS";
